{"version":3,"file":"commonHelpers2.js","sources":["../src/js/fetchAPI.js","../src/img/icons/sprite.svg","../src/js/markupPopular.js","../src/js/markupDiscount.js","../src/js/main.js"],"sourcesContent":["import axios from 'axios';\nexport {\n  getAllProducts,\n  getProductByID,\n  getAllCategories,\n  getAllPopular,\n  getAllDiscount,\n};\n\nasync function getAllProducts(obj) {\n  const BASE_URL = 'https://food-boutique.b.goit.study/api/products';\n  const queryParams = new URLSearchParams(obj);\n  try {\n    const result = await axios.get(`${BASE_URL}?${queryParams}`);\n    return result.data;\n  } catch (error) {\n    return error.message;\n  }\n}\n\nasync function getAllCategories() {\n  const BASE_URL = 'https://food-boutique.b.goit.study/api/products/categories';\n  try {\n    const result = await axios.get(`${BASE_URL}`);\n    return result.data;\n  } catch (error) {\n    return error.message;\n  }\n}\n\nasync function getAllPopular() {\n  const BASE_URL = 'https://food-boutique.b.goit.study/api/products/popular';\n  try {\n    const result = await axios.get(`${BASE_URL}`);\n    return result.data;\n  } catch (error) {\n    return error.message;\n  }\n}\n\nasync function getAllDiscount() {\n  const BASE_URL = 'https://food-boutique.b.goit.study/api/products/discount';\n  try {\n    const result = await axios.get(`${BASE_URL}`);\n    return result.data;\n  } catch (error) {\n    return error.message;\n  }\n}\n\nasync function getProductByID(id) {\n  const BASE_URL = 'https://food-boutique.b.goit.study/api/products/';\n  try {\n    const result = await axios.get(`${BASE_URL}${id}`);\n    return result.data;\n  } catch (error) {\n    return error.message;\n  }\n}\n","export default \"__VITE_ASSET__550512b3__\"","import { getAllPopular } from './fetchAPI';\nimport { updateItemCountDisplay } from './header';\nimport sprite from '/img/icons/sprite.svg';\n\nconst popularList = document.querySelector('.popular-list');\n\nasync function getDataAllPopular() {\n  try {\n    const result = await getAllPopular();\n    return result;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction createMarkUpPopular(arr) {\n  const markUp = arr.map(({ _id, img, name, category, size, popularity }) => {\n    return `<li class=\"popular-item\" data-id='${_id}'>\n    <div class=\"popular-card\">\n    <div class=\"popular-image-container\">\n    <img class=\"popular-image\" src=\"${img}\" alt=\"${name}\" width=\"56px\" height=\"56px\">\n    </div>\n    <div class=\"info-popular-card\">\n    <h4 class=\"popular-name\">${name}</h4>\n    <p class=\"info-popular-item\">Category:\n    <b>${category}</b></p>\n    <div class=\"add\">\n    <p class=\"info-popular-item\">Size: \n    <b>${size}</b></p>\n    <p class=\"info-popular-item\">Popularity:\n    <b>${popularity}</b></p>\n    </div>\n    </div>\n    <button class=\"popularbtn-basket \" type=\"button\">\n\n    <svg class = \"icon-check is-hidden\"  width=\"12\" height=\"12\">\n    <use href=\"${sprite}#icon-check\"></use></svg>\n\n    <svg class=\"icon-shop\" width=\"12\" height=\"12\">\n    <use href=\"${sprite}#icon-shop\"></use></svg>\n\n    </button>\n    </div>\n    </li>`;\n  });\n  popularList.insertAdjacentHTML('beforeend', markUp.join(''));\n}\n\nfunction onClick(event) {\n  const targetButton = event.target.closest('.popularbtn-basket');\n  if (!targetButton) return;\n  const card = event.target.closest('.popular-item');\n  const id = card.dataset.id;\n  const basket = getBasketLocalStorage();\n\n  if (basket.includes(id)) {\n    return;\n  }\n\n  const check = targetButton.querySelector('.icon-check');\n  const shop = targetButton.querySelector('.icon-shop');\n  shop.classList.add('is-hidden');\n  check.classList.remove('is-hidden');\n  basket.push(id);\n  setBasketLocalStorage(basket);\n  updateItemCountDisplay();\n}\nfunction getBasketLocalStorage() {\n  const cardDataJSONE = localStorage.getItem('basket');\n  return cardDataJSONE ? JSON.parse(cardDataJSONE) : [];\n}\nfunction setBasketLocalStorage(basket) {\n  localStorage.setItem('basket', JSON.stringify(basket));\n}\n\nexport { popularList, onClick, getDataAllPopular, createMarkUpPopular };\n","import { getAllDiscount } from './fetchAPI';\nimport sprite from '/img/icons/sprite.svg';\nimport { updateItemCountDisplay } from './header';\n\nconst container = document.querySelector('.discount-list');\n\nasync function productsApi() {\n  try {\n    const result = await getAllDiscount();\n    const randomProducts = getRandomProducts(result, 2);\n    container.insertAdjacentHTML(\n      'beforeend',\n      createMarcupDiscount(randomProducts)\n    );\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\nfunction getRandomProducts(arr, number) {\n  const random = arr.sort(() => 0.5 - Math.random());\n  return random.slice(0, number);\n}\n\nfunction createMarcupDiscount(arr) {\n  return arr\n    .map(\n      ({ name, img, price, _id }) => `\n    <li data-id=\"${_id}\" class=\"discount-product\">\n    <div class=\"discount-image\">\n        <svg class=\"discount-list-item\" width=\"60\" heigh=\"60\">\n        <use href=\"./img/icons/sprite.svg#icon-discount\"></use>\n        </svg>\n        <img src=\"${img}\" alt=\"name\" class=\"discount-image-cart\"/>\n    </div>\n    <div class=\"discount-info\">\n        <p class=\"discount-title-name\">${name}</p>\n        <div class=\"discount-info-cart\">\n            <p class=\"discount-price\">$${price}</p>\n            <button class=\"discount-btn\" type=\"button\">\n\n            <svg class = \"icon-check is-hidden\"  width=\"12\" height=\"12\">\n            <use href=\"${sprite}#icon-check\"></use></svg>\n\n            <svg class=\"icon-shop\" width=\"12\" height=\"12\">\n            <use href=\"${sprite}#icon-shop\"></use></svg>\n\n        </button>\n        </div>\n    </div>\n    </li>`\n    )\n    .join('');\n}\n\ncontainer.addEventListener('click', hendleClick);\n\nfunction hendleClick(event) {\n  if (event.target === event.currentTarget) {\n    return;\n  }\n  const currentProduct = event.target.closest('.discount-product');\n  const id = currentProduct.dataset.id;\n  const targetBtn = event.target.closest('.discount-btn');\n  if (!targetBtn) {\n    return;\n  }\n  const basket = LocalStorageGetBask();\n\n  if (basket.includes(id)) {\n    return;\n  }\n\n  const checkIcon = targetBtn.querySelector('.icon-check');\n  const shopIcon = targetBtn.querySelector('.icon-shop');\n\n  shopIcon.classList.add('is-hidden');\n  checkIcon.classList.remove('is-hidden');\n  basket.push(id);\n  LocalStorageSetBask(basket);\n  updateItemCountDisplay();\n}\n\nfunction LocalStorageGetBask() {\n  const cardsData = localStorage.getItem('basket');\n  return cardsData ? JSON.parse(cardsData) : [];\n}\nfunction LocalStorageSetBask(basket) {\n  localStorage.setItem('basket', JSON.stringify(basket));\n}\n\nexport { productsApi };\n","////////////////////////////////////////////////////////////////////////////\n\n// COUNT OF BASKET //\nimport {\n  // addItemButton,\n  // removeItemButton,\n  updateItemCountDisplay,\n  // addItemToLocalArray,\n  // removeItemFromLocalArray,\n} from './header';\n\n// addItemButton.addEventListener('click', function () {\n//   addItemToLocalArray(Math.random());\n// });\n// removeItemButton.addEventListener('click', function () {\n//   removeItemFromLocalArray(0);\n// });\nupdateItemCountDisplay();\n\n////////////////////////////////////////////////////////////////////////////\n\n// SUBSCRIPTION SCRIPT\n\nimport { formFooter, subscriptionSubmit } from './footer';\n\nformFooter.addEventListener('submit', subscriptionSubmit);\n\n////////////////////////////////////////////////////////////////////////////\n\n// POPULAR DIV SCRIPT\n\nimport {\n  popularList,\n  onClick,\n  getDataAllPopular,\n  createMarkUpPopular,\n} from './markupPopular';\n\ngetDataAllPopular()\n  .then(createMarkUpPopular)\n  .catch(error => {\n    console.log(error);\n  });\n\npopularList.addEventListener('click', onClick);\n\n////////////////////////////////////////////////////////////////////////////\n\n// DISCOUNT DIV SCRIPT\n\nimport { productsApi } from './markupDiscount';\n\nproductsApi();\n"],"names":["getAllPopular","BASE_URL","axios","error","getAllDiscount","sprite","popularList","getDataAllPopular","createMarkUpPopular","arr","markUp","_id","img","name","category","size","popularity","onClick","event","targetButton","id","basket","getBasketLocalStorage","check","setBasketLocalStorage","updateItemCountDisplay","cardDataJSONE","container","productsApi","result","randomProducts","getRandomProducts","createMarcupDiscount","number","price","hendleClick","targetBtn","LocalStorageGetBask","checkIcon","LocalStorageSetBask","cardsData","formFooter","subscriptionSubmit"],"mappings":"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"}