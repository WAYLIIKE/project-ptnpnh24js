{"version":3,"file":"commonHelpers2.js","sources":["../src/js/fetchAPI.js","../src/js/markupPopular.js","../src/js/main.js"],"sourcesContent":["import axios from 'axios';\nexport {\n  getAllProducts,\n  getProductByID,\n  getAllCategories,\n  getAllPopular,\n  getAllDiscount,\n};\n\nasync function getAllProducts(obj) {\n  const BASE_URL = 'https://food-boutique.b.goit.study/api/products';\n  const queryParams = new URLSearchParams(obj);\n  try {\n    const result = await axios.get(`${BASE_URL}?${queryParams}`);\n    return result.data;\n  } catch (error) {\n    return error.message;\n  }\n}\n\nasync function getAllCategories() {\n  const BASE_URL = 'https://food-boutique.b.goit.study/api/products/categories';\n  try {\n    const result = await axios.get(`${BASE_URL}`);\n    return result.data;\n  } catch (error) {\n    return error.message;\n  }\n}\n\nasync function getAllPopular() {\n  const BASE_URL = 'https://food-boutique.b.goit.study/api/products/popular';\n  try {\n    const result = await axios.get(`${BASE_URL}`);\n    return result.data;\n  } catch (error) {\n    return error.message;\n  }\n}\n\nasync function getAllDiscount() {\n  const BASE_URL = 'https://food-boutique.b.goit.study/api/products/discount';\n  try {\n    const result = await axios.get(`${BASE_URL}`);\n    return result.data;\n  } catch (error) {\n    return error.message;\n  }\n}\n\nasync function getProductByID(id) {\n  const BASE_URL = 'https://food-boutique.b.goit.study/api/products/';\n  try {\n    const result = await axios.get(`${BASE_URL}${id}`);\n    return result.data;\n  } catch (error) {\n    return error.message;\n  }\n}\n","import { getAllPopular } from './fetchAPI';\n\n// import iconShop from '/img/icons/shop.svg';\n// import iconCheck from '/img/icons/iconCheck.svg';\nconst iconCheck = '../img/icons/sprite.svg#icon-check';\nconst iconShop = '../img/icons/sprite.svg#icon-shop';\n\nconst popularList = document.querySelector('.popular-list');\n\nasync function getDataAllPopular() {\n  try {\n    const result = await getAllPopular();\n    return result;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n// getDataAllPopular()\n//   .then(createMarkUpPopular)\n//   .catch(error => {\n//     console.log(error);\n//   });\n\nfunction createMarkUpPopular(arr) {\n  const markUp = arr.map(({ _id, img, name, category, size, popularity }) => {\n    return `<li class=\"popular-item\" data-id='${_id}'>\n    <div class=\"popular-card\">\n    <div class=\"popular-image-container\">\n    <img class=\"popular-image\" src=\"${img}\" alt=\"${name}\" width=\"56px\" height=\"56px\">\n    </div>\n    <div class=\"info-popular-card\">\n    <h4 class=\"popular-name\">${name}</h4>\n    <p class=\"info-popular-item\">Category:\n    <b>${category}</b></p>\n    <div class=\"add\">\n    <p class=\"info-popular-item\">Size: \n    <b>${size}</b></p>\n    <p class=\"info-popular-item\">Popularity:\n    <b>${popularity}</b></p>\n    </div>\n    </div>\n    <button class=\"popularbtn-basket \" type=\"button\">\n   \n    <svg class = \"icon-check  is-hidden\"  width=\"12\" height=\"12\">\n    <use href=\"${iconCheck}\"></use></svg>\n   \n   \n    <svg class=\"icon-shop\" width=\"12\" height=\"12\" >\n    <use href=\"${iconShop}\"></use></svg>\n    \n    </button>\n    </div>\n    </li>`;\n  });\n  popularList.insertAdjacentHTML('beforeend', markUp.join(''));\n}\n\n// popularList.addEventListener('click', onClick);\nfunction onClick(event) {\n  const targetButton = event.target.closest('.popularbtn-basket');\n  if (!targetButton) return;\n  const card = event.target.closest('.popular-item');\n  const id = card.dataset.id;\n  const basket = getBasketLocalStorage();\n\n  if (basket.includes(id)) {\n    return;\n  }\n\n  const check = targetButton.querySelector('.icon-check');\n  const shop = targetButton.querySelector('.icon-shop');\n  shop.classList.add('is-hidden');\n  check.classList.remove('is-hidden');\n  basket.push(id);\n  setBasketLocalStorage(basket);\n}\nfunction getBasketLocalStorage() {\n  const cardDataJSONE = localStorage.getItem('basket');\n  return cardDataJSONE ? JSON.parse(cardDataJSONE) : [];\n}\nfunction setBasketLocalStorage(basket) {\n  localStorage.setItem('basket', JSON.stringify(basket));\n}\n\nexport { popularList, onClick, getDataAllPopular, createMarkUpPopular };\n","////////////////////////////////////////////////////////////////////////////\n\n// COUNT OF BASKET //\nimport {\n  addItemButton,\n  removeItemButton,\n  updateItemCountDisplay,\n  addItemToLocalArray,\n  removeItemFromLocalArray,\n} from './header';\n\naddItemButton.addEventListener('click', function () {\n  addItemToLocalArray(Math.random());\n});\nremoveItemButton.addEventListener('click', function () {\n  removeItemFromLocalArray(0);\n});\nupdateItemCountDisplay();\n\n////////////////////////////////////////////////////////////////////////////\n\n// SUBSCRIPTION SCRIPT\n\nimport { formFooter, subscriptionSubmit } from './footer';\n\nformFooter.addEventListener('submit', subscriptionSubmit);\n\n////////////////////////////////////////////////////////////////////////////\n\n// POPULAR DIV SCRIPT\n\nimport {\n  popularList,\n  onClick,\n  getDataAllPopular,\n  createMarkUpPopular,\n} from './markupPopular';\n\ngetDataAllPopular()\n  .then(createMarkUpPopular)\n  .catch(error => {\n    console.log(error);\n  });\n\npopularList.addEventListener('click', onClick);\n\n////////////////////////////////////////////////////////////////////////////\n"],"names":["getAllPopular","BASE_URL","axios","error","iconCheck","iconShop","popularList","getDataAllPopular","createMarkUpPopular","arr","markUp","_id","img","name","category","size","popularity","onClick","event","targetButton","id","basket","getBasketLocalStorage","check","setBasketLocalStorage","cardDataJSONE","addItemButton","addItemToLocalArray","removeItemButton","removeItemFromLocalArray","updateItemCountDisplay","formFooter","subscriptionSubmit"],"mappings":"0IA8BA,eAAeA,GAAgB,CAC7B,MAAMC,EAAW,0DACjB,GAAI,CAEF,OADe,MAAMC,EAAM,IAAI,GAAGD,GAAU,GAC9B,IACf,OAAQE,EAAP,CACA,OAAOA,EAAM,OACd,CACH,CClCA,MAAMC,EAAY,qCACZC,EAAW,oCAEXC,EAAc,SAAS,cAAc,eAAe,EAE1D,eAAeC,GAAoB,CACjC,GAAI,CAEF,OADe,MAAMP,GAEtB,OAAQG,EAAP,CACA,QAAQ,IAAIA,CAAK,CAClB,CACH,CAQA,SAASK,EAAoBC,EAAK,CAChC,MAAMC,EAASD,EAAI,IAAI,CAAC,CAAE,IAAAE,EAAK,IAAAC,EAAK,KAAAC,EAAM,SAAAC,EAAU,KAAAC,EAAM,WAAAC,CAAU,IAC3D,qCAAqCL;AAAA;AAAA;AAAA,sCAGVC,WAAaC;AAAA;AAAA;AAAA,+BAGpBA;AAAA;AAAA,SAEtBC;AAAA;AAAA;AAAA,SAGAC;AAAA;AAAA,SAEAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAMQZ;AAAA;AAAA;AAAA;AAAA,iBAIAC;AAAA;AAAA;AAAA;AAAA,UAKd,EACDC,EAAY,mBAAmB,YAAaI,EAAO,KAAK,EAAE,CAAC,CAC7D,CAGA,SAASO,EAAQC,EAAO,CACtB,MAAMC,EAAeD,EAAM,OAAO,QAAQ,oBAAoB,EAC9D,GAAI,CAACC,EAAc,OAEnB,MAAMC,EADOF,EAAM,OAAO,QAAQ,eAAe,EACjC,QAAQ,GAClBG,EAASC,IAEf,GAAID,EAAO,SAASD,CAAE,EACpB,OAGF,MAAMG,EAAQJ,EAAa,cAAc,aAAa,EACzCA,EAAa,cAAc,YAAY,EAC/C,UAAU,IAAI,WAAW,EAC9BI,EAAM,UAAU,OAAO,WAAW,EAClCF,EAAO,KAAKD,CAAE,EACdI,EAAsBH,CAAM,CAC9B,CACA,SAASC,GAAwB,CAC/B,MAAMG,EAAgB,aAAa,QAAQ,QAAQ,EACnD,OAAOA,EAAgB,KAAK,MAAMA,CAAa,EAAI,CAAA,CACrD,CACA,SAASD,EAAsBH,EAAQ,CACrC,aAAa,QAAQ,SAAU,KAAK,UAAUA,CAAM,CAAC,CACvD,CCxEAK,EAAc,iBAAiB,QAAS,UAAY,CAClDC,EAAoB,KAAK,OAAM,CAAE,CACnC,CAAC,EACDC,EAAiB,iBAAiB,QAAS,UAAY,CACrDC,EAAyB,CAAC,CAC5B,CAAC,EACDC,IAQAC,EAAW,iBAAiB,SAAUC,CAAkB,EAaxDzB,EAAmB,EAChB,KAAKC,CAAmB,EACxB,MAAML,GAAS,CACd,QAAQ,IAAIA,CAAK,CACrB,CAAG,EAEHG,EAAY,iBAAiB,QAASW,CAAO"}