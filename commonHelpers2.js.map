{"version":3,"file":"commonHelpers2.js","sources":["../src/js/fetchAPI.js","../src/img/icons/sprite.svg","../src/js/modalCard.js","../src/js/markupPopular.js","../src/js/markupDiscount.js","../src/js/main.js"],"sourcesContent":["import axios from 'axios';\nexport {\n  getAllProducts,\n  getProductByID,\n  getAllCategories,\n  getAllPopular,\n  getAllDiscount,\n};\n\nasync function getAllProducts(obj) {\n  const BASE_URL = 'https://food-boutique.b.goit.study/api/products';\n  const queryParams = new URLSearchParams(obj);\n  try {\n    const result = await axios.get(`${BASE_URL}?${queryParams}`);\n    return result.data;\n  } catch (error) {\n    return error.message;\n  }\n}\n\nasync function getAllCategories() {\n  const BASE_URL = 'https://food-boutique.b.goit.study/api/products/categories';\n  try {\n    const result = await axios.get(`${BASE_URL}`);\n    return result.data;\n  } catch (error) {\n    return error.message;\n  }\n}\n\nasync function getAllPopular() {\n  const BASE_URL = 'https://food-boutique.b.goit.study/api/products/popular';\n  try {\n    const result = await axios.get(`${BASE_URL}`);\n    return result.data;\n  } catch (error) {\n    return error.message;\n  }\n}\n\nasync function getAllDiscount() {\n  const BASE_URL = 'https://food-boutique.b.goit.study/api/products/discount';\n  try {\n    const result = await axios.get(`${BASE_URL}`);\n    return result.data;\n  } catch (error) {\n    return error.message;\n  }\n}\n\nasync function getProductByID(id) {\n  const BASE_URL = 'https://food-boutique.b.goit.study/api/products/';\n  try {\n    const result = await axios.get(`${BASE_URL}${id}`);\n    return result.data;\n  } catch (error) {\n    return error.message;\n  }\n}\n","export default \"__VITE_ASSET__e79834ce__\"","import { getProductByID } from './fetchAPI';\nimport sprite from '/img/icons/sprite.svg';\n\n// Отримуємо всі елементи з класом \"product-card\"\nconst productCards = document.querySelectorAll('.product-card');\n// Функція для відкриття модального вікна з даними продукту\nfunction openModalWithData(object) {\n  const { _id, img, name, category, size, popularity, desc, price } = object;\n  const modalContent = `\n    <div class=\"modal-box\"  data-id='${_id}'>\n    <div class=\"card-info\">\n    <div class=\"img-box\">\n      <img class=\"card-image\" src=\"${img}\" alt=\"${name}\" width=\"160px\" height=\"160px\">\n      </div>\n      <div class=\"modal-tablet \">\n      <h4 class=\"card-modal-name\">${name}</h4>\n      <div class=\"card-modal-data\">\n      <p class=\"info-modal-item\">Category: <b>${category}</b></p>\n      <p class=\"info-modal-item\">Size: <b>${size}</b></p>\n       </div>\n      <p class=\"info-modal-item\">Popularity: <b>${popularity}</b></p>\n      <p class=\"modal-desc\">${desc}</p>\n       </div>\n       </div>\n       <div class=\"modal-price-block\" >\n      <p class=\"modal-price\">${price}</p>\n      <button type=\"button\" class=\"modal-btn\">\n        Add to\n        <svg  width=\"18\" height=\"18\">\n          <use href=\"${sprite}#icon-shop\"></use>\n        </svg>\n      </button>\n      </div>\n      <button class=\"button-icon-close\" type=\"button\">\n        <svg class=\"modal-close\">\n          <use href=\"./img/icons/sprite.svg#icon-close\"></use>\n        </svg>\n    </div>\n    </div>\n  `;\n  // Отримуємо модальне вікно та його вміст\n  const modal = document.getElementById('modal');\n  const modalContentElement = modal.querySelector('.modal-content');\n  // Встановлюємо вміст модального вікна\n  modalContentElement.innerHTML = modalContent;\n  // Показуємо модальне вікно\n  modal.style.display = 'block';\n}\n// Обробник події кліку на картці продукту\nproductCards.forEach(card => {\n  card.addEventListener('click', async function () {\n    const productId = card.getAttribute('data-id');\n\n    try {\n      // Отримуємо дані про продукт і відображаємо модальне вікно\n      const productData = await getProductByID(productId);\n      openModalWithData(productData);\n    } catch (error) {\n      console.error(error);\n      // Обробка помилок\n    }\n  });\n});\n// Обробник події кліку на кнопці закриття модального вікна\nconst modal = document.getElementById('modal');\nmodal.addEventListener('click', function (event) {\n  if (event.target.classList.contains('modal-close')) {\n    modal.style.display = 'none'; // Ховаємо модальне вікно при кліку на кнопку закриття\n  }\n});\n","import { getAllPopular } from './fetchAPI';\nimport { updateItemCountDisplay } from './header';\nimport sprite from '/img/icons/sprite.svg';\n\nconst popularList = document.querySelector('.popular-list');\n\nasync function getDataAllPopular() {\n  try {\n    const result = await getAllPopular();\n    return result;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nfunction createMarkUpPopular(arr) {\n  const markUp = arr.map(({ _id, img, name, category, size, popularity }) => {\n    return `<li class=\"popular-item\" data-id='${_id}'>\n    <div class=\"popular-card\">\n    <div class=\"popular-image-container\">\n    <img class=\"popular-image\" src=\"${img}\" alt=\"${name}\" width=\"56px\" height=\"56px\">\n    </div>\n    <div class=\"info-popular-card\">\n    <h4 class=\"popular-name\">${name}</h4>\n    <p class=\"info-popular-item\">Category:\n    <b>${category}</b></p>\n    <div class=\"add\">\n    <p class=\"info-popular-item\">Size: \n    <b>${size}</b></p>\n    <p class=\"info-popular-item\">Popularity:\n    <b>${popularity}</b></p>\n    </div>\n    </div>\n    <button class=\"popularbtn-basket \" type=\"button\">\n\n    <svg class = \"icon-check is-hidden\"  width=\"12\" height=\"12\">\n    <use href=\"${sprite}#icon-check\"></use></svg>\n\n    <svg class=\"icon-shop\" width=\"12\" height=\"12\">\n    <use href=\"${sprite}#icon-shop\"></use></svg>\n\n    </button>\n    </div>\n    </li>`;\n  });\n  popularList.insertAdjacentHTML('beforeend', markUp.join(''));\n}\n\nfunction onClick(event) {\n  const targetButton = event.target.closest('.popularbtn-basket');\n  if (!targetButton) return;\n  const card = event.target.closest('.popular-item');\n  const id = card.dataset.id;\n  const basket = getBasketLocalStorage();\n\n  if (basket.includes(id)) {\n    return;\n  }\n\n  const check = targetButton.querySelector('.icon-check');\n  const shop = targetButton.querySelector('.icon-shop');\n  shop.classList.add('is-hidden');\n  check.classList.remove('is-hidden');\n  basket.push(id);\n  setBasketLocalStorage(basket);\n  updateItemCountDisplay();\n}\nfunction getBasketLocalStorage() {\n  const cardDataJSONE = localStorage.getItem('basket');\n  return cardDataJSONE ? JSON.parse(cardDataJSONE) : [];\n}\nfunction setBasketLocalStorage(basket) {\n  localStorage.setItem('basket', JSON.stringify(basket));\n}\n\nexport { popularList, onClick, getDataAllPopular, createMarkUpPopular };\n","import { getAllDiscount } from './fetchAPI';\nimport sprite from '/img/icons/sprite.svg';\nimport { updateItemCountDisplay } from './header';\n\nconst container = document.querySelector('.discount-list');\n\nasync function productsApi() {\n  try {\n    const result = await getAllDiscount();\n    const randomProducts = getRandomProducts(result, 2);\n    container.insertAdjacentHTML(\n      'beforeend',\n      createMarcupDiscount(randomProducts)\n    );\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\nfunction getRandomProducts(arr, number) {\n  const random = arr.sort(() => 0.5 - Math.random());\n  return random.slice(0, number);\n}\n\nfunction createMarcupDiscount(arr) {\n  return arr\n    .map(\n      ({ name, img, price, _id }) => `\n    <li data-id=\"${_id}\" class=\"discount-product\">\n    <div class=\"discount-image\">\n        <svg class=\"discount-list-item\" width=\"60\" heigh=\"60\">\n        <use href=\"${sprite}#icon-discount\"></use>\n        </svg>\n        <img src=\"${img}\" alt=\"name\" class=\"discount-image-cart\"/>\n    </div>\n    <div class=\"discount-info\">\n        <p class=\"discount-title-name\">${name}</p>\n        <div class=\"discount-info-cart\">\n            <p class=\"discount-price\">$${price}</p>\n            <button class=\"discount-btn\" type=\"button\">\n\n            <svg class = \"icon-check is-hidden\"  width=\"12\" height=\"12\">\n            <use href=\"${sprite}#icon-check\"></use></svg>\n\n            <svg class=\"icon-shop\" width=\"12\" height=\"12\">\n            <use href=\"${sprite}#icon-shop\"></use></svg>\n\n        </button>\n        </div>\n    </div>\n    </li>`\n    )\n    .join('');\n}\n\ncontainer.addEventListener('click', hendleClick);\n\nfunction hendleClick(event) {\n  if (event.target === event.currentTarget) {\n    return;\n  }\n  const currentProduct = event.target.closest('.discount-product');\n  const id = currentProduct.dataset.id;\n  const targetBtn = event.target.closest('.discount-btn');\n  if (!targetBtn) {\n    return;\n  }\n  const basket = LocalStorageGetBask();\n\n  if (basket.includes(id)) {\n    return;\n  }\n\n  const checkIcon = targetBtn.querySelector('.icon-check');\n  const shopIcon = targetBtn.querySelector('.icon-shop');\n\n  shopIcon.classList.add('is-hidden');\n  checkIcon.classList.remove('is-hidden');\n  basket.push(id);\n  LocalStorageSetBask(basket);\n  updateItemCountDisplay();\n}\n\nfunction LocalStorageGetBask() {\n  const cardsData = localStorage.getItem('basket');\n  return cardsData ? JSON.parse(cardsData) : [];\n}\nfunction LocalStorageSetBask(basket) {\n  localStorage.setItem('basket', JSON.stringify(basket));\n}\n\nexport { productsApi };\n","////////////////////////////////////////////////////////////////////////////\n\n// COUNT OF BASKET //\nimport {\n  // addItemButton,\n  // removeItemButton,\n  updateItemCountDisplay,\n  // addItemToLocalArray,\n  // removeItemFromLocalArray,\n} from './header';\n\n// addItemButton.addEventListener('click', function () {\n//   addItemToLocalArray(Math.random());\n// });\n// removeItemButton.addEventListener('click', function () {\n//   removeItemFromLocalArray(0);\n// });\nupdateItemCountDisplay();\n\n////////////////////////////////////////////////////////////////////////////\n\n// SUBSCRIPTION SCRIPT\n\nimport { formFooter, subscriptionSubmit } from './footer';\n\nformFooter.addEventListener('submit', subscriptionSubmit);\n\n////////////////////////////////////////////////////////////////////////////\n\n// POPULAR DIV SCRIPT\n\nimport {\n  popularList,\n  onClick,\n  getDataAllPopular,\n  createMarkUpPopular,\n} from './markupPopular';\n\ngetDataAllPopular()\n  .then(createMarkUpPopular)\n  .catch(error => {\n    console.log(error);\n  });\n\npopularList.addEventListener('click', onClick);\n\n////////////////////////////////////////////////////////////////////////////\n\n// DISCOUNT DIV SCRIPT\n\nimport { productsApi } from './markupDiscount';\n\nproductsApi();\n"],"names":["getAllPopular","BASE_URL","axios","error","getAllDiscount","getProductByID","id","sprite","productCards","openModalWithData","object","_id","img","name","category","size","popularity","desc","price","modalContent","modal","modalContentElement","card","productId","productData","event","popularList","getDataAllPopular","createMarkUpPopular","arr","markUp","onClick","targetButton","basket","getBasketLocalStorage","check","setBasketLocalStorage","updateItemCountDisplay","cardDataJSONE","container","productsApi","result","randomProducts","getRandomProducts","createMarcupDiscount","number","hendleClick","targetBtn","LocalStorageGetBask","checkIcon","LocalStorageSetBask","cardsData","formFooter","subscriptionSubmit"],"mappings":"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"}